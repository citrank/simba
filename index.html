
<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SIMBA - Sistem Informasi MSDS Bahan Kimia</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;800&display=swap" rel="stylesheet">
<style>
:root{{--accent:#00a5b5;--muted:#f4f7f8;--card:#ffffff;--radius:14px}}
*{{box-sizing:border-box;font-family:'Nunito',sans-serif}}
body{{margin:0;background:linear-gradient(180deg,#f5fbfb 0%,#f0f6f6 100%);color:#123;min-height:100vh}}
.header{{display:flex;align-items:center;gap:12px;padding:18px 28px;background:white;box-shadow:0 2px 6px rgba(0,0,0,0.04);position:sticky;top:0;z-index:50}}
.logo{{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--accent)}}
.logo svg{{width:36px;height:36px}}
.nav{{margin-left:auto;display:flex;gap:18px}}
.container{{max-width:1100px;margin:28px auto;padding:0 18px}}
.hero{{background:white;padding:28px;border-radius:var(--radius);box-shadow:0 6px 18px rgba(0,0,0,0.04);text-align:center}}
h1{{margin:0 0 6px 0;font-size:32px;color:#0b5560}}
.lead{{color:#556; margin-bottom:18px}}
.searchbar{{display:flex;justify-content:center;margin:12px 0}}
.searchbar input{{width:80%;padding:14px 16px;border-radius:40px;border:1px solid #e6eef0;outline:none;font-size:16px}}
.flexrow{{display:flex;gap:18px;margin-top:18px;flex-wrap:wrap}}
.card{{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,0.04);flex:1;min-width:220px}}
.grid{{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px;margin-top:20px}}
.small{{font-size:13px;color:#667}}
.pict{{display:flex;gap:8px;align-items:center}}
.pict img{{width:42px;height:42px}}
.footer{{margin:36px 0 80px 0;text-align:center;color:#889}}
@media(max-width:700px){{
  .searchbar input{{width:100%}}
  .nav{{display:none}}
  h1{{font-size:22px}}
}}
.modal{{position:fixed;inset:0;background:rgba(2,6,8,0.45);display:none;align-items:center;justify-content:center;padding:18px;z-index:200}}
.modal .dialog{{background:white;border-radius:12px;max-width:900px;width:100%;padding:18px;max-height:90vh;overflow:auto}}
.badge{{display:inline-block;background:#eef; padding:6px 10px;border-radius:999px;font-size:12px;color:#056}}
</style>
</head>
<body>
<header class="header">
  <div class="logo" id="logo">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <rect width="64" height="64" rx="10" fill="white"/>
      <g transform="translate(6,6)">
        <path d="M20 2 L28 2 L28 6 L34 32 C34 36 30 40 26 40 C22 40 18 36 18 32 L24 6 L24 2 Z" fill="#e1f8fb" stroke="#0aa" stroke-width="1"/>
        <circle cx="25" cy="10" r="2.5" fill="#9ee8f6"/>
        <circle cx="22" cy="14" r="1.6" fill="#9ee8f6"/>
        <circle cx="28" cy="16" r="1.3" fill="#9ee8f6"/>
      </g>
    </svg>
    SIMBA
  </div>
  <nav class="nav">
    <a href="#beranda">Beranda</a>
    <a href="#msds">MSDS</a>
    <a href="#pengujian">Pengujian</a>
    <a href="#piktogram">Piktogram GHS</a>
    <a href="#apd">APD</a>
  </nav>
</header>

<main class="container">
  <section id="beranda" class="hero">
    <h1>Selamat Datang di Website Simba</h1>
    <p class="lead">Pusat informasi MSDS, piktogram GHS, APD, dan panduan K3 laboratorium.</p>
    <div class="searchbar">
      <input id="searchInput" placeholder="Cari nama/rumus kimia atau pengujian..." />
    </div>
    <div class="flexrow">
      <div class="card" style="flex:2">
        <h3>Top 5 Bahan Kimia Populer</h3>
        <ol id="top5" class="small"></ol>
      </div>
      <div class="card" style="min-width:260px">
        <h3>Simbol GHS of the Day</h3>
        <div id="ghsOfDay" class="pict small"></div>
      </div>
      <div class="card" style="min-width:260px">
        <h3>Tips K3 of the Day</h3>
        <div id="tipsOfDay" class="small"></div>
      </div>
    </div>
  </section>

  <section id="msds" style="margin-top:28px">
    <h2>MSDS - Bahan Kimia</h2>
    <p class="small">Jelajahi dan temukan informasi keselamatan untuk berbagai bahan kimia.</p>
    <div class="grid" id="msdsGrid"></div>
  </section>

  <section id="pengujian" style="margin-top:28px">
    <h2>Kategori Pengujian</h2>
    <div id="pengujianList" class="flexrow"></div>
  </section>

  <section id="piktogram" style="margin-top:28px">
    <h2>Piktogram GHS: Bahasa Simbol di Lab</h2>
    <p class="small">Kenali simbol-simbol bahaya universal (GHS) dengan penjelasan singkat dan menarik.</p>
    <div id="piktogramGrid" class="grid"></div>
  </section>

  <section id="apd" style="margin-top:28px">
    <h2>APD: Armor Wajib di Laboratorium</h2>
    <p class="small">APD yang wajib digunakan di lab dan bagaimana memilihnya.</p>
    <div class="grid" id="apdGrid"></div>
  </section>

  <div class="footer">SIMBA â€” Sistem Informasi MSDS Bahan Kimia. Dibuat dengan hati-hati untuk keselamatan laboratorium.</div>
</main>

<div id="modal" class="modal"><div class="dialog"><button id="closeModal">Tutup</button><div id="modalContent"></div></div></div>

<script>
async function loadData(){{
  try{{
    const res = await fetch('msds_data.json');
    const data = await res.json();
    return data;
  }}catch(e){{
    console.error('Gagal memuat msds_data.json, memastikan data di-embed langsung.');
    return window.MSDS_DATA || [];
  }}
}}

window.MSDS_DATA = {json_snippet};

function formatPengujianCell(p){{
  if(!p) return '';
  return '<div class="small badge">'+p.replace(/,/g,', ')+'</div>';
}}

function renderGrid(data){{
  const grid = document.getElementById('msdsGrid');
  grid.innerHTML = '';
  data.forEach((item, idx)=>{{
    const card = document.createElement('div'); card.className='card';
    card.innerHTML = `<strong>${{item.Nama}}</strong><div class="small">${{item.Formula}}</div><div style="margin-top:10px">${{formatPengujianCell(item.Pengujian)}}</div>`;
    card.onclick = ()=> openModal(item);
    grid.appendChild(card);
  }})
}}

function openModal(item){{
  document.getElementById('modal').style.display='flex';
  const mc = document.getElementById('modalContent');
  mc.innerHTML = `<h3>${{item.Nama}}</h3><p class="small">${{item.Formula}}</p><p><strong>Digunakan dalam pengujian:</strong> ${{item.Pengujian}}</p><p><strong>Piktogram GHS:</strong> ${{item.GHS}}</p><p><strong>APD:</strong> ${{item.APD}}</p><p>${{item.Deskripsi}}</p>`;
  if(item.PDF){{
    mc.innerHTML += `<hr><div><iframe src="${{item.PDF}}" style="width:100%;height:400px;border:0"></iframe><p><a href="${{item.PDF}}" download>Download MSDS (PDF)</a></p></div>`;
  }};
}}

document.getElementById('closeModal').onclick = ()=> document.getElementById('modal').style.display='none';
document.getElementById('modal').onclick = (e)=>{{ if(e.target.id==='modal') document.getElementById('modal').style.display='none'; }}

document.getElementById('searchInput').addEventListener('input', async function(e){{
  const q = this.value.trim().toLowerCase();
  const data = await loadData();
  const filtered = data.filter(it=> (it.Nama||'').toLowerCase().includes(q) || (it.Formula||'').toLowerCase().includes(q) || (it.Pengujian||'').toLowerCase().includes(q));
  renderGrid(filtered);
}});

function renderTop5(data){{
  const list = document.getElementById('top5');
  list.innerHTML='';
  const top = data.slice(0,5);
  top.forEach((it,i)=>{{ const li = document.createElement('li'); li.textContent = it.Nama + (it.Formula? ' ('+it.Formula+')':''); list.appendChild(li); }});
}}

const GHS_ICONS = [
  {{id:'Toxic', label:'Beracun (Toxic)'}},
  {{id:'Explosive', label:'Ledakan Berbahaya'}},
  {{id:'Gas', label:'Gas Bertekanan'}},
  {{id:'Flammable', label:'Mudah Terbakar'}},
  {{id:'Corrosive', label:'Korosif'}},
  {{id:'HealthHazard', label:'Bahaya Kesehatan'}},
  {{id:'Env', label:'Pencemar Lingkungan'}},
  {{id:'Irritant', label:'Iritasi'}},
  {{id:'Oxidizer', label:'Oksidator'}}
];

function renderGhsOfDay(){{
  const idx = (new Date()).getDate() % GHS_ICONS.length;
  const el = document.getElementById('ghsOfDay');
  el.innerHTML = `<div style="font-weight:700">${{GHS_ICONS[idx].label}}</div><div class="small">Simbol dan arti singkat. Setiap hari berganti otomatis.</div>`;
}}

const TIPS = [
  "Selalu baca label MSDS sebelum pakai bahan kimia baru. Kenali musuhmu sebelum 'berperang'.",
  "Gunakan sarung tangan yang sesuai bahan kimia yang dipakai; jangan pakai sarung tangan robek.",
  "Jangan mencampur bahan kimia kecuali prosedur jelas; bisa bereaksi hebat.",
  "Simpan MSDS dan reminder APD dekat area kerja untuk akses cepat.",
  "Bersihkan tumpahan kecil segera dengan prosedur yang aman."
];
function renderTips(){ const idx = (new Date()).getDate() % TIPS.length; document.getElementById('tipsOfDay').textContent = TIPS[idx]; }

function renderPengujian(data){{
  const map = new Map();
  data.forEach(it=>{{ const p = (it.Pengujian||'').toString(); p.split(/,|;/).map(s=>s.trim()).filter(Boolean).forEach(cat=>{{ if(!map.has(cat)) map.set(cat,[]); map.get(cat).push(it); }} ) }});
  const wrap = document.getElementById('pengujianList'); wrap.innerHTML='';
  const btnAll = document.createElement('button'); btnAll.className='card small'; btnAll.textContent='Semua'; btnAll.onclick=()=>renderGrid(data); wrap.appendChild(btnAll);
  for(const [k,v] of map.entries()){{ const b=document.createElement('button'); b.className='card small'; b.textContent=k; b.onclick=()=>renderGrid(v); wrap.appendChild(b); }}
}}

function renderPiktogram(){{
  const meanings = [
    ['Toxic','Beracun: dapat menyebabkan keracunan serius atau kematian jika tertelan, dihirup, atau diserap kulit.'],
    ['Explosive','Ledakan: bahan yang dapat meledak jika tidak stabil.'],
    ['Gas','Gas Bertekanan: dapat meledak atau menyengat jika bocor.'],
    ['Flammable','Mudah Terbakar: jaga dari sumber nyala.'],
    ['Corrosive','Korosif: merusak jaringan dan logam.'],
    ['HealthHazard','Bahaya Kesehatan: efek kronis atau karsinogenik.'],
    ['Env','Pencemar Lingkungan: berbahaya untuk organisme air.'],
    ['Irritant','Iritasi: menyebabkan iritasi mata/ kulit.'],
    ['Oxidizer','Oksidator: memperkuat kebakaran.' ]
  ];
  const grid = document.getElementById('piktogramGrid'); grid.innerHTML='';
  meanings.forEach(m=>{{ const c=document.createElement('div'); c.className='card'; c.innerHTML=`<h4>${{m[0]}}</h4><p class="small">${{m[1]}}</p>`; grid.appendChild(c); }});
}}

function renderApd(){{
  const items = [
    ['Safety Goggles','Melindungi mata dari percikan dan debu.'],
    ['Lab Coat','Melindungi pakaian dan kulit dari tumpahan.'],
    ['Chemical Resistant Gloves','Sarung tangan khusus untuk bahan kimia korosif.'],
    ['Respirator','Perlindungan pernapasan bila ada uap/gas.'],
    ['Face Shield','Perlindungan muka untuk percikan besar.'],
    ['Fume Hood','Ventilasi lokal untuk mengurangi paparan uap gas.']
  ];
  const grid = document.getElementById('apdGrid'); grid.innerHTML='';
  items.forEach(i=>{{ const c=document.createElement('div'); c.className='card'; c.innerHTML=`<h4>${{i[0]}}</h4><p class="small">${{i[1]}}</p>`; grid.appendChild(c); }});
}}

(async ()=>{{ const data = await loadData(); renderGrid(data); renderTop5(data); renderPengujian(data); renderGhsOfDay(); renderTips(); renderPiktogram(); renderApd(); }})();
</script>
</body>
</html>
